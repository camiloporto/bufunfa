<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.prime.com.tr/ui">

	<body>
	
		<h:form>
			
			<h1>Contas</h1>
			<h:panelGroup id="treePanel">
				<p:tree value="#{UiConta.root}" var="node" dynamic="true" id="treeConta"
					selectionMode="single" selection="#{UiConta.selectedNode}">
					<p:treeNode>
						<h:outputText value="#{node}" />
					</p:treeNode>
				</p:tree>
			
				<!-- ContextMenu de opcoes de Contas -->
				<p:contextMenu for="treeConta">
					<p:menuitem value="New" onclick="contaDialog.show()"/>
					<p:menuitem value="Edit"/>
				</p:contextMenu>
			</h:panelGroup>
			
		
		
			<!-- Dialog de entrada de dados de nova conta -->
			<p:dialog closable="true" closeOnEscape="true" header="Nova Conta" widgetVar="contaDialog" id="contaDialogUI">
					<h:panelGrid columns="2">
						<h:outputText value="Conta pai:" />
						<h:outputText value="nome pai" />
				
						<h:outputText value="Nome:" />
						<h:inputText value="#{UiConta.nomeConta}" />
				
						<h:outputText value="Descricao:" />
						<h:inputText value="#{UiConta.descricaoConta}" />
					</h:panelGrid>
					<p:commandLink
						value="save" 
						actionListener="#{UiConta.contextMenuNewEvent}" 
						oncomplete="contaDialog.hide()"
						update="treePanel, contaDialogUI"/>
				
			</p:dialog>
		</h:form>
	</body>

</html>